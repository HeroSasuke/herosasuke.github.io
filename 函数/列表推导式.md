# 列表推导式

所谓的列表推导式，就是指的轻量级循环创建列表

## 1. 基本的方式

```python
In [1]: a = [x for x in range(5)]

In [2]: a
Out[2]: [0, 1, 2, 3, 4]

In [3]: a = [x for x in range(3,4)]

In [4]: a
Out[4]: [3]

In [5]: a = [x for x in range(3, 20)]

In [6]: a
Out[6]: [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]

In [7]: a = [x for x in range(3, 20, 2)]

In [8]: a
Out[8]: [3, 5, 7, 9, 11, 13, 15, 17, 19]
```

## 2. 在循环的过程中使用if

```python
In [9]: a = [x for x in range(3, 10) if x % 2 == 0]

In [10]: a
Out[10]: [4, 6, 8]

In [11]: a = [x for x in range(3, 10) if x % 2 != 0]

In [12]: a
Out[12]: [3, 5, 7, 9]

In [13]: a = [x for x in range(3, 10)]

In [14]: a
Out[14]: [3, 4, 5, 6, 7, 8, 9]
```

## 3. 2个for循环

```python
In [16]: a = [(x, y) for x in range(1,3) for y in range(3)]

In [17]: a
Out[17]: [(1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]
```

## 4. 3个for循环

```python
In [20]: a = [(x, y, z) for x in range(1,3) for y in range(3) for z in range(4,6)]

In [21]: a
Out[21]:
[(1, 0, 4),
 (1, 0, 5),
 (1, 1, 4),
 (1, 1, 5),
 (1, 2, 4),
 (1, 2, 5),
 (2, 0, 4),
 (2, 0, 5),
 (2, 1, 4),
 (2, 1, 5),
 (2, 2, 4),
 (2, 2, 5)]
```

## 练习

请写出一段 Python 代码实现分组一个 list 里面的元素,

比如 ``[1,2,3,...100]``变成 ``[[1,2,3],[4,5,6]....]``

参考答案：

```python
In [23]: a = [x for x in range(1, 101)]

In [24]: b = [a[x:x+3] for x in range(0, len(a), 3)]

In [25]: b
Out[25]:
[[1, 2, 3],
 [4, 5, 6],
 [7, 8, 9],
 [10, 11, 12],
 [13, 14, 15],
 [16, 17, 18],
 [19, 20, 21],
 [22, 23, 24],
 [25, 26, 27],
 [28, 29, 30],
 [31, 32, 33],
 [34, 35, 36],
 [37, 38, 39],
 [40, 41, 42],
 [43, 44, 45],
 [46, 47, 48],
 [49, 50, 51],
 [52, 53, 54],
 [55, 56, 57],
 [58, 59, 60],
 [61, 62, 63],
 [64, 65, 66],
 [67, 68, 69],
 [70, 71, 72],
 [73, 74, 75],
 [76, 77, 78],
 [79, 80, 81],
 [82, 83, 84],
 [85, 86, 87],
 [88, 89, 90],
 [91, 92, 93],
 [94, 95, 96],
 [97, 98, 99],
 [100]]
```
